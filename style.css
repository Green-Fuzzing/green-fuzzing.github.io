:root {
  --mpi-deep-teal: #00363d;
  --mpi-green: #006c66;
  --mpi-light-teal: #22a49b;
  --mpi-sand: #f2f5f4;
  --mpi-ink: #10232b;
  --bg-gradient: linear-gradient(135deg, var(--mpi-deep-teal) 0%, var(--mpi-green) 60%, var(--mpi-light-teal) 100%);
  --card-bg: rgba(242, 245, 244, 0.96);
  --text-color: var(--mpi-ink);
  --accent: var(--mpi-green);
  --accent-dark: var(--mpi-deep-teal);
  --muted: rgba(16, 35, 43, 0.62);
  --border: rgba(0, 54, 61, 0.14);
  --shadow: 0 20px 60px rgba(0, 27, 31, 0.25);
  --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
  --cursor-x: 50%;
  --cursor-y: 50%;
  --cursor-parallax-x: 0px;
  --cursor-parallax-y: 0px;
  font-family: 'Glegoo', 'Inter', 'Segoe UI', system-ui, sans-serif;
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  min-height: 100vh;
  background: var(--bg-gradient);
  color: var(--text-color);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 36px 18px;
  background-attachment: fixed;
  position: relative;
  overflow-x: hidden;
}

body::before {
  content: '';
  position: fixed;
  inset: 0;
  background:
    radial-gradient(32% 28% at var(--cursor-x) var(--cursor-y), rgba(34, 164, 155, 0.42), rgba(34, 164, 155, 0) 68%),
    radial-gradient(38% 36% at calc(100% - var(--cursor-x)) calc(100% - var(--cursor-y)), rgba(0, 108, 102, 0.38), rgba(0, 108, 102, 0) 72%),
    radial-gradient(70% 70% at 50% 50%, rgba(0, 54, 61, 0.32), rgba(0, 54, 61, 0) 80%);
  filter: saturate(1.12);
  pointer-events: none;
  opacity: 0.65;
  transition: background 0.4s var(--ease-out), opacity 0.4s var(--ease-out);
  animation: aurora-drift 18s ease-in-out infinite alternate;
  z-index: 0;
  will-change: background, opacity, transform;
}

.ambient-scene {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  perspective: 1400px;
  transform-style: preserve-3d;
}

.ambient-scene__icon {
  position: absolute;
  top: var(--origin-y);
  left: var(--origin-x);
  width: var(--size, 112px);
  aspect-ratio: 1;
  transform-style: preserve-3d;
  transform: translate3d(
    calc(-50% + var(--offset-x, 0px) + (var(--depth, 1) * var(--cursor-parallax-x, 0px))),
    calc(-50% + var(--offset-y, 0px) + (var(--depth, 1) * var(--cursor-parallax-y, 0px))),
    calc(-80px * var(--depth, 1))
  );
  transition: transform 0.45s var(--ease-out), filter 0.45s var(--ease-out);
  opacity: 0.9;
}

.ambient-scene__icon svg {
  width: 100%;
  height: 100%;
  transform-origin: center;
  filter: drop-shadow(0 18px 28px rgba(0, 32, 36, 0.35));
  mix-blend-mode: screen;
  animation: ambient-bob 9s ease-in-out infinite;
  animation-delay: var(--delay, 0s);
}

body.is-ready .app-header {
  animation: float-up 0.8s var(--ease-out) forwards;
}

body.is-ready .card {
  animation: float-up 0.9s var(--ease-out) 0.12s forwards;
}

body.is-ready .app-footer {
  animation: fade-slide 0.8s var(--ease-out) 0.22s forwards;
}

.app-shell {
  width: min(880px, 100%);
  display: flex;
  flex-direction: column;
  gap: 20px;
  position: relative;
  z-index: 1;
}

.app-header {
  background: rgba(242, 245, 244, 0.1);
  color: #f8fafc;
  border-radius: 22px;
  padding: 10px;
  display: flex;
  align-items: center;
  gap: 18px;
  box-shadow: 0 16px 38px rgba(0, 27, 31, 0.38);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(242, 245, 244, 0.18);
}

.logo {
  /* smaller decorative frame */
  width: 80px;
  height: 80px;
  border-radius: 16px;
  display: grid;
  place-items: center;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.18), rgba(255, 255, 255, 0.06));
  box-shadow: 0 12px 30px rgba(0, 54, 61, 0.45);
  border: 1px solid rgba(255, 255, 255, 0.22);
  position: relative;
  overflow: hidden;
}

.logo__svg {
  width: 52px;
  height: 52px;
  display: block;
  transform-origin: center;
  /* scale the inline SVG to 1.5x so it sits larger inside the smaller frame */
  transform: scale(1.5);
}

.logo__bg {
  fill: url(#logoGradient);
  stroke: rgba(255, 255, 255, 0.32);
  stroke-width: 0.6;
}

.app-header svg {
  display: block;
}

.logo__orbit {
  transform-origin: 32px 32px;
}

.logo__orbit-ring {
  fill: none;
  stroke: rgba(213, 255, 244, 0.72);
  stroke-width: 1.4;
  stroke-linecap: round;
  stroke-dasharray: 52 18;
}

.logo__orbit-pip {
  fill: rgba(255, 255, 255, 0.92);
  stroke: rgba(6, 78, 82, 0.38);
  stroke-width: 0.5;
}

.logo__tree-canopy,
.logo__tree-canopy--secondary,
.logo__tree-glow {
  transform-origin: 32px 24px;
}

.logo__tree-canopy {
  fill: rgba(40, 209, 178, 0.86);
}

.logo__tree-canopy--secondary {
  fill: rgba(11, 103, 95, 0.42);
  transform-origin: 26px 26px;
}

.logo__tree-trunk {
  fill: rgba(242, 245, 244, 0.94);
}

.logo__tree-glow {
  fill: url(#logoLeafGradient);
  opacity: 0.88;
  mix-blend-mode: screen;
}

.logo__calculator {
  filter: drop-shadow(0 4px 8px rgba(5, 36, 40, 0.32));
}

.logo__calc-body {
  fill: rgba(16, 45, 52, 0.85);
  stroke: rgba(242, 245, 244, 0.35);
  stroke-width: 0.6;
}

.logo__calc-display {
  fill: rgba(242, 245, 244, 0.88);
}

.logo__calc-button {
  fill: rgba(123, 240, 217, 0.9);
}

/* .logo__glyph {
  fill: #012f36;
} */

.logo__spark {
  fill: rgba(229, 255, 245, 0.94);
  filter: drop-shadow(0 2px 6px rgba(2, 54, 58, 0.32));
}

body.is-ready .logo__orbit {
  animation: orbit-spin 14s linear infinite;
}

body.is-ready .logo__tree-canopy {
  animation: canopy-breathe 6s ease-in-out infinite;
}

body.is-ready .logo__tree-canopy--secondary {
  animation: canopy-breathe 6s ease-in-out infinite;
  animation-delay: 1.2s;
}

body.is-ready .logo__spark {
  animation: spark-pulse 3.6s ease-in-out infinite;
}

.header-copy h1 {
  margin: 0 0 8px;
  font-size: clamp(2rem, 3vw, 2.2rem);
  font-weight: 700;
  font-family: 'Doto', serif;
  color: #d0f8ef;
}

.header-copy p {
  margin: 0;
  line-height: 1.5;
  font-size: 0.95rem;
  font-family: "bodoni moda";
  color: rgba(248, 250, 252, 0.85);
}

.card {
  background: var(--card-bg);
  border-radius: 20px;
  padding: 16px;
  box-shadow: var(--shadow);
  display: grid;
  gap: 24px;
  border: 1px solid rgba(0, 54, 61, 0.08);
}

.card__body {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.card__body--collapsed .calculator {
  display: none;
}

.calculator {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.calculator__grid {
  display: grid;
  gap: 18px;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
}

@media (min-width: 720px) {
  .calculator__grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

.form-field {
  display: flex;
  flex-direction: column;
  /* gap: 6px; */
}

.form-field .hint {
  margin: 0;
  font-size: 0.75rem;
  color: var(--muted);
}

.calculator .hint {
  font-size: 0.75rem;
  color: var(--muted);
}

.calculator label {
  font-weight: 600;
  margin-bottom: 4px;
  display: block;
  color: var(--text-color);
  font-size: 0.9rem;
}

.calculator__fieldset {
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 18px 20px 20px;
  display: grid;
  gap: 16px;
  background: rgba(0, 108, 102, 0.07);
}

.calculator__fieldset legend {
  font-weight: 700;
  font-size: 0.95rem;
  padding: 0 6px;
  color: var(--accent-dark);
}

.trial-mode-options {
  display: grid;
  gap: 10px;
}

@media (min-width: 600px) {
  .trial-mode-options {
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  }
}

.trial-mode-option {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid rgba(0, 54, 61, 0.14);
  background: rgba(255, 255, 255, 0.6);
  cursor: pointer;
  transition: border-color 0.2s ease, background-color 0.2s ease;
}

.trial-mode-option:hover {
  border-color: var(--accent);
}

.trial-mode-option input {
  accent-color: var(--accent);
}

.trial-inputs {
  display: grid;
  gap: 12px;
  padding: 12px 14px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.65);
}

.trial-inputs[hidden] {
  display: none !important;
}

.calculator br {
  display: none;
}

.calculator input,
.calculator select {
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.86);
  font-size: 0.9rem;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
  box-shadow: inset 0 1px 2px rgba(0, 54, 61, 0.08);
}

.calculator input:focus,
.calculator select:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(0, 108, 102, 0.2);
}

.calculator button {
  align-self: flex-start;
  padding: 12px 24px;
  border-radius: 999px;
  border: none;
  background: linear-gradient(135deg, var(--accent), var(--mpi-light-teal));
  color: #f6fbfa;
  font-size: 0.95rem;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 14px 26px rgba(0, 52, 59, 0.32);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.calculator button:hover {
  transform: translateY(-1px);
  box-shadow: 0 18px 30px rgba(0, 45, 51, 0.42);
}

.calculator button:active {
  transform: translateY(1px);
}

.results {
  background: linear-gradient(145deg, rgba(0, 108, 102, 0.12), rgba(0, 54, 61, 0.08));
  border-radius: 18px;
  padding: 20px;
  display: grid;
  gap: 10px;
  border: 1px solid rgba(0, 108, 102, 0.18);
  position: relative;
}

.card__body--collapsed .results {
  animation: fade-in 0.28s ease;
}

.results h2 {
  margin: 0;
  font-size: 1.2rem;
  color: var(--accent-dark);
}

.results__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  flex-wrap: wrap;
}

.results__toolbar {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}

.results__controls {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  align-items: center;
  justify-content: flex-start;
  margin-top: 14px;
  align-self: flex-start;
  padding-top: 6px;
}

.results__action-button {
  padding: 8px 16px;
  border-radius: 999px;
  border: 1px solid rgba(0, 108, 102, 0.18);
  background: rgba(255, 255, 255, 0.72);
  color: var(--accent-dark);
  font-size: 0.78rem;
  font-weight: 600;
  letter-spacing: 0.01em;
  cursor: pointer;
  box-shadow: 0 10px 20px rgba(0, 69, 66, 0.18);
  transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease, border-color 0.2s ease;
  white-space: nowrap;
}

.results__action-button:hover {
  transform: translateY(-1px);
  background: rgba(255, 255, 255, 0.86);
  border-color: rgba(0, 108, 102, 0.32);
  box-shadow: 0 14px 26px rgba(0, 45, 51, 0.26);
}

.results__action-button:active {
  transform: translateY(0);
}

.results__action-button[hidden] {
  display: none;
}

.output {
  display: grid;
  gap: 6px;
}

.results__figure {
  font-size: clamp(1.3rem, 3.5vw, 2.2rem);
  font-weight: 700;
  color: var(--accent);
}

.results__details {
  margin: 0;
  font-size: 0.82rem;
  color: var(--muted);
}

.split-flap {
  --split-flap-height: clamp(2.6rem, 5vw, 3.4rem);
  --split-flap-radius: 12px;
  display: inline-flex;
  align-items: center;
  gap: 14px;
  letter-spacing: 0.06em;
  font-family: 'Glegoo', serif;
  color: #e6fff7;
  line-height: 1;
}

.split-flap__digits {
  display: inline-flex;
  flex-direction: column;
  gap: 6px;
  position: relative;
  align-items: flex-start;
}

.split-flap__track {
  display: inline-flex;
  gap: 6px;
  align-items: stretch;
}

.split-flap__unit {
  padding: 8px 16px;
  border-radius: 999px;
  background: rgba(4, 53, 60, 0.75);
  border: 1px solid rgba(143, 255, 239, 0.32);
  color: rgba(230, 255, 247, 0.92);
  font-size: 1.2rem;
  font-weight: 600;
  letter-spacing: 0.08em;
  /* text-transform: uppercase; */
  box-shadow: 0 10px 22px rgba(0, 36, 40, 0.28);
}

.split-flap__cell {
  position: relative;
  width: 2.4ch;
  min-width: 2.4ch;
  height: var(--split-flap-height);
  perspective: 840px;
  display: inline-flex;
  justify-content: center;
}

.split-flap__cell--narrow {
  width: 1.2ch;
  min-width: 1.2ch;
}

.split-flap__cell--blank {
  width: 1.2ch;
  min-width: 1.2ch;
}

.split-flap__card {
  position: relative;
  width: 100%;
  height: 100%;
  border-radius: var(--split-flap-radius);
  background: linear-gradient(180deg, rgba(4, 39, 43, 0.96), rgba(1, 22, 26, 0.95));
  box-shadow:
    0 8px 16px rgba(0, 0, 0, 0.28),
    inset 0 -6px 12px rgba(0, 0, 0, 0.35),
    inset 0 2px 6px rgba(255, 255, 255, 0.08);
  overflow: hidden;
  border: 1px solid rgba(0, 128, 125, 0.35);
}

.split-flap__cell--blank .split-flap__card {
  background: transparent;
  border: none;
  box-shadow: none;
}

.split-flap__hinge {
  position: absolute;
  top: 50%;
  left: 0;
  width: 100%;
  height: 2px;
  background: rgba(18, 55, 60, 0.8);
  transform: translateY(-50%);
  z-index: 5;
}

.split-flap__half {
  position: absolute;
  left: 0;
  width: 100%;
  height: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  color: inherit;
  backface-visibility: hidden;
  transform-origin: center;
}

.split-flap__half {
  /* ensure overflow is hidden and allow absolute positioning of the glyph so we
     can vertically shift a full-height glyph inside each half to show the exact
     top or bottom portion. Keeping the half container as the positioned
     reference ensures the halves meet precisely at the hinge. */
  overflow: hidden;
}

.split-flap__half::after {
  content: attr(data-char);
  position: absolute;
  left: 0;
  width: 100%;
  /* size the pseudo as the full card so the glyph sits in the same place for
     both halves and can be shifted to show top/bottom halves precisely */
  height: var(--split-flap-height);
  line-height: var(--split-flap-height);
  text-align: center;
  top: 0;
}

/* For the top half, keep the glyph aligned to the top of the card. The
   bottom half shifts the same full glyph upward by half the card height so
   only the lower portion appears inside the bottom container. This produces
   a seamless join at the hinge. */
.split-flap__half--top::after {
  top: 0;
}

.split-flap__half--bottom::after {
  top: calc(-1 * (var(--split-flap-height) / 2));
}

.split-flap__half--top {
  top: 0;
  transform-origin: center bottom;
  border-bottom: 1px solid rgba(0, 0, 0, 0.35);
  background: linear-gradient(180deg, rgba(2, 30, 33, 0.95), rgba(0, 25, 30, 0.92));
}

.split-flap__half--bottom {
  bottom: 0;
  transform-origin: center top;
  border-top: 1px solid rgba(255, 255, 255, 0.08);
  background: linear-gradient(180deg, rgba(0, 18, 21, 0.9), rgba(0, 38, 42, 0.92));
}

.split-flap__cell--blank .split-flap__half,
.split-flap__cell--blank .split-flap__hinge {
  display: none;
}

.split-flap__cell--animate .split-flap__half--top {
  /* faster top flip */
  animation: split-flap-top 0.28s cubic-bezier(0.55, 0.08, 0.26, 0.99) forwards;
}

.split-flap__cell--animate .split-flap__half--bottom {
  /* faster bottom flip */
  animation: split-flap-bottom 0.28s cubic-bezier(0.55, 0.08, 0.26, 0.99) forwards;
}

.split-flap__shadow {
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, rgba(0, 0, 0, 0.36), transparent 60%, rgba(0, 0, 0, 0.32));
  pointer-events: none;
  mix-blend-mode: multiply;
}

.results--computed .results__figure {
  animation: pop-in 0.45s var(--ease-out) forwards;
}

.result-meta {
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: 6px;
  font-size: 0.8rem;
  color: var(--muted);
}

.results--computed .result-meta li {
  animation: fade-slide 0.45s var(--ease-out) forwards;
}

.results--computed .result-meta li:nth-child(2) {
  animation-delay: 0.08s;
}

.results--computed .result-meta li:nth-child(3) {
  animation-delay: 0.16s;
}

.app-footer {
  margin-top: -4px;
  padding: 12px 18px 0;
  font-size: 0.75rem;
  color: rgba(248, 250, 252, 0.85);
  text-align: center;
  display: grid;
  gap: 6px;
}

.app-footer p {
  margin: 0;
}

.app-footer a {
  color: #b5fffb;
  text-decoration: underline;
  text-decoration-color: rgba(181, 255, 251, 0.6);
  text-decoration-thickness: 1px;
  text-underline-offset: 3px;
  transition: color 0.2s ease;
}

.app-footer a:hover,
.app-footer a:focus {
  color: #ffffff;
}

.app-footer__note {
  color: rgba(248, 250, 252, 0.72);
}

.result-meta li {
  padding: 6px 10px;
  border-radius: 12px;
  background: rgba(0, 108, 102, 0.14);
  color: var(--text-color);
  font-weight: 500;
}

.disclaimer {
  margin: 0;
  color: var(--muted);
  font-size: 0.8rem;
}

.results__restart {
  background: var(--accent);
  color: #f6fbfa;
  border: none;
  border-radius: 999px;
  font-size: 0.9rem;
  font-weight: 600;
  letter-spacing: 0.01em;
  cursor: pointer;
  box-shadow: 0 12px 24px rgba(0, 52, 59, 0.24);
  transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease;
}

.results__restart--floating {
  /* position: absolute;
  bottom: 16px;
  right: 16px; */
  padding: 8px 20px;
}

.results__restart:hover {
  transform: translateY(-1px);
  box-shadow: 0 16px 28px rgba(0, 45, 51, 0.32);
  background: var(--accent-dark);
}

.results__restart:active {
  transform: translateY(0);
}

.results__restart[hidden] {
  display: none;
}

@keyframes ambient-bob {
  0% {
    transform: translateZ(calc(var(--depth, 1) * 30px)) translateY(-6px) rotateX(12deg);
  }
  50% {
    transform: translateZ(calc(var(--depth, 1) * 30px)) translateY(6px) rotateX(12deg);
  }
  100% {
    transform: translateZ(calc(var(--depth, 1) * 30px)) translateY(-6px) rotateX(12deg);
  }
}

@keyframes aurora-drift {
  0% {
    transform: scale(1);
    opacity: 0.58;
  }
  50% {
    opacity: 0.76;
  }
  100% {
    transform: scale(1.08) translate3d(2%, -2%, 0);
    opacity: 0.68;
  }
}

@keyframes float-up {
  0% {
    opacity: 0;
    transform: translateY(16px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pop-in {
  0% {
    opacity: 0;
    transform: scale(0.92);
  }
  60% {
    opacity: 1;
    transform: scale(1.05);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes fade-slide {
  0% {
    opacity: 0;
    transform: translateY(12px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes split-flap-top {
  0% {
    transform: rotateX(0deg);
  }
  45% {
    transform: rotateX(-90deg);
  }
  100% {
    transform: rotateX(-90deg);
  }
}

@keyframes split-flap-bottom {
  0% {
    transform: rotateX(90deg);
  }
  55% {
    transform: rotateX(90deg);
  }
  100% {
    transform: rotateX(0deg);
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes orbit-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes canopy-breathe {
  0%,
  100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.04);
  }
}

@keyframes spark-pulse {
  0%,
  100% {
    transform: scale(0.88);
    opacity: 0.85;
  }
  50% {
    transform: scale(1.08);
    opacity: 1;
  }
}

@keyframes tree-sway {
  0%,
  100% {
    transform: rotate(0deg) translateY(0);
  }
  50% {
    transform: rotate(2deg) translateY(-2px);
  }
}

.tree-impact {
  margin-top: 12px;
  display: grid;
  gap: 12px;
}

.tree-impact h3 {
  margin: 0;
  font-size: 0.95rem;
  color: var(--accent-dark);
}

.tree-impact__table {
  overflow-x: auto;
  border-radius: 14px;
  border: 1px solid rgba(0, 108, 102, 0.18);
  background: rgba(255, 255, 255, 0.82);
}

.tree-impact__table table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.78rem;
}

.tree-impact__table th,
.tree-impact__table td {
  padding: 10px 12px;
  text-align: left;
  border-bottom: 1px solid rgba(0, 54, 61, 0.08);
}

.tree-impact__table thead {
  background: rgba(0, 108, 102, 0.12);
  color: var(--accent-dark);
}

.tree-impact__table tbody tr:last-child td {
  border-bottom: none;
}

.tree-impact__table tbody tr.is-selected {
  background: rgba(34, 164, 155, 0.14);
}

.saved-runs {
  margin-top: 18px;
  border-top: 1px solid rgba(0, 108, 102, 0.16);
  padding-top: 16px;
  display: grid;
  gap: 14px;
}

.saved-runs__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.saved-runs__header h3 {
  margin: 0;
  font-size: 0.92rem;
  color: var(--accent-dark);
}

.saved-runs__clear {
  background: transparent;
  border: none;
  padding: 6px 12px;
  border-radius: 999px;
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--accent);
  cursor: pointer;
  transition: background-color 0.2s ease, color 0.2s ease;
}

.saved-runs__clear:hover {
  background: rgba(0, 108, 102, 0.12);
  color: var(--accent-dark);
}

.saved-runs__clear[hidden] {
  display: none;
}

.saved-runs__empty {
  margin: 0;
  font-size: 0.78rem;
  color: var(--muted);
}

.saved-runs__list {
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: 12px;
}

.saved-runs__item {
  border: 1px solid rgba(0, 108, 102, 0.16);
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.82);
  padding: 12px 14px;
  box-shadow: 0 10px 24px rgba(0, 54, 61, 0.1);
  display: grid;
  gap: 8px;
}

.saved-runs__item--highlight {
  animation: fade-slide 0.5s var(--ease-out) forwards;
  border-color: rgba(34, 164, 155, 0.5);
  box-shadow: 0 16px 32px rgba(34, 164, 155, 0.28);
}

.saved-runs__title {
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: 600;
  font-size: 0.86rem;
  color: var(--accent-dark);
}

.saved-runs__badge {
  padding: 3px 10px;
  border-radius: 999px;
  background: rgba(0, 108, 102, 0.14);
  font-size: 0.7rem;
  color: var(--accent-dark);
  font-weight: 600;
}

.saved-runs__summary {
  margin: 0;
  font-size: 0.75rem;
  color: var(--muted);
}

.saved-runs__timestamp {
  margin: 0;
  font-size: 0.7rem;
  color: rgba(16, 35, 43, 0.5);
}

.saved-runs__actions {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.saved-runs__button {
  padding: 7px 14px;
  border-radius: 999px;
  border: 1px solid rgba(0, 108, 102, 0.18);
  background: rgba(255, 255, 255, 0.68);
  color: var(--accent-dark);
  font-size: 0.72rem;
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.2s ease, background-color 0.2s ease, border-color 0.2s ease;
}

.saved-runs__button:hover {
  transform: translateY(-1px);
  background: rgba(255, 255, 255, 0.86);
  border-color: rgba(0, 108, 102, 0.32);
}

.saved-runs__button:active {
  transform: translateY(0);
}

.tree-icons {
  display: inline-flex;
  gap: 2px;
  margin-right: 6px;
  font-size: 1rem;
}

.tree-icon {
  filter: drop-shadow(0 1px 1px rgba(0, 54, 61, 0.15));
}

.results--computed .tree-icon {
  animation: tree-sway 5.6s ease-in-out infinite;
}

.results--computed .tree-icon:nth-child(odd) {
  animation-delay: 0.5s;
}

.results--computed .tree-icon:nth-child(even) {
  animation-delay: 1s;
}

.tree-icon--more {
  font-weight: 700;
  color: var(--accent-dark);
}

.tree-value {
  font-variant-numeric: tabular-nums;
  font-weight: 600;
  color: var(--accent-dark);
}

.tree-impact__table td[data-label] {
  position: relative;
}

.tree-impact__table td[data-label]::before {
  content: attr(data-label) ': ';
  display: none;
  font-weight: 600;
  color: var(--muted);
  margin-right: 4px;
}

.sr-only {
  border: 0 !important;
  clip: rect(1px, 1px, 1px, 1px);
  clip-path: inset(50%);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
  white-space: nowrap;
}

@media (max-width: 680px) {
  .tree-impact__table table {
    font-size: 0.72rem;
  }

  .tree-impact__table thead {
    display: none;
  }

  .tree-impact__table tr {
    display: grid;
    gap: 6px;
    padding: 12px 10px;
  }

  .tree-impact__table td,
  .tree-impact__table th {
    display: block;
    border: none;
    padding: 0;
  }

  .tree-impact__table td[data-label]::before {
    display: inline;
  }

  .tree-impact__table tbody tr.is-selected {
    border-left: 4px solid var(--accent);
    padding-left: 14px;
  }
}

@media (prefers-reduced-motion: reduce) {
  body.is-ready .app-header,
  body.is-ready .card,
  body.is-ready .app-footer,
  body.is-ready .logo__orbit,
  body.is-ready .logo__tree-canopy,
  body.is-ready .logo__tree-canopy--secondary,
  body.is-ready .logo__spark,
  .results--computed .results__figure,
  .results--computed .result-meta li,
  .results--computed .tree-icon,
  .ambient-scene__icon svg,
  .saved-runs__item--highlight {
    animation: none !important;
  }

  body::before {
    animation: none !important;
    transition: none !important;
  }
}

@media (max-width: 680px) {
  .ambient-scene {
    display: none;
  }

  body {
    padding: 24px 14px;
  }

  .app-header {
    flex-direction: column;
    text-align: center;
  }

  .logo {
    margin-bottom: 6px;
  }

  .card {
    padding: 22px;
  }

  .calculator button {
    align-self: stretch;
    width: 100%;
  }
}
